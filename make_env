#!/usr/bin/env bash

function link_dotfile {
	src=${1}
	dst=${2}

	rm -rf ~/${dst}
	ln -s ${PWD}/${src} ~/${dst}	
}


for f in \
	.bashrc \
	.bash_profile \
	.fetchmailrc \
	.gitconfig \
	.gitignore \
	.gnupg \
	.ssh \
	.mayu \
	.msmtprc \
	.Xdefaults \
	.Xresources \
	.xprofile \
	.xsession \
	.termcap \
	.tmux.conf \
	.mailcap \
	.offlineimaprc \
	.procmailrc \
	.mutt \
	.vim \
	.vimrc \
	skk-dic \
	.gvimrc 
do

	link_dotfile ${f} ${f}

done

case $OSTYPE in
	darwin*)
		link_dotfile .Xmodmap.mac .Xmodmap
		;;
	freebsd*)
		
		;;
	
	linux*)
		link_dotfile .Xmodmap.ubuntu .Xmodmap
		;;
	
	*)
		;;
esac

rm ~/.gitignore
ln -s ${PWD}/global.gitignore ~/.gitignore
rm ~/.gitconfig
ln -s ${PWD}/global.gitconfig ~/.gitconfig
